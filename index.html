<!DOCTYPE>
<html lang="en">
	<head>
		<meta charset="utf-8">

		<title>Jamwhiz, a drinking game without alcool</title>
		<!-- include js -->
		<script src="/client/js/gest.min.js"></script>
		<script src="/client/js/p5.min.js"></script>
		<script src="/client/js/p5.play.js"></script>
		<script src="/socket.io/socket.io.js" type="text/javascript"></script>
		<script src="/client/socketCommands.js"></script>
	</head>

	<body>
		<script type="text/javascript">
			// gestur detection saved in a global variable
      var width = window.screen.width;
      var height = window.screen.height;
	    var detectedDirection;
			gest.options.subscribeWithCallback(function(gesture) {
				if (gesture.direction) {
          detectedDirection = gesture.direction;
				}
      });
			gest.start();
			socketCommands();

      // animation
      var sun;
      function preload(){
        sun = loadAnimation("/img/sun1.png","/img/sun2.png","/img/sun3.png");
      }

      function setup(){
        createCanvas(800, 600);
        background(77, 210, 255);
        position = createVector(400,0);
        velocity = createVector(0.0,0.4);
      }

      function draw() {
        position.add(velocity);
        console.log(detectedDirection);
        if(detectedDirection == "Left"){
          velocity.y = velocity.y + -0.1;
          velocity.x = velocity.x + -0.1;
        }
        if(detectedDirection == "Right"){
          velocity.y = velocity.y + -0.1;
          velocity.x = velocity.x + 0.1;
        }

        background(77, 210, 255);
        animation(sun,position.x, position.y);
      }
		</script>
	</body>
</html>
