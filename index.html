<!DOCTYPE>
<html lang="en">
	<head>
		<meta charset="utf-8">

		<title>Jamwhiz, a drinking game without alcool</title>
		<!-- include js -->
		<script src="/client/js/gest.min.js"></script>
		<script src="/client/js/p5.min.js"></script>
		<script src="/client/js/p5.play.js"></script>
		<script src="/socket.io/socket.io.js" type="text/javascript"></script>
		<script src="/client/socketCommands.js"></script>
	</head>

	<body>
		<!-- diplay events on screen for DEMO purposes -->
		<script type="text/javascript">
			// gestur detection saved in a global variable
	    var detectedDirection;
			gest.options.subscribeWithCallback(function(gesture) {
				if (gesture.direction) {
          detectedDirection = gesture.direction;
				}
      });
			gest.start();
			socketCommands();


      function setup(){
        createCanvas(800, 600);
        background(255);
        position = createVector(100,100);
        velocity = createVector(0.1,0.1);
      }

      function draw() {
        position.add(velocity);
        console.log(detectedDirection);
        if(detectedDirection == "Left"){
          velocity.x = velocity.x * +1;
        }
        if(detectedDirection == "Right"){
          velocity.x = velocity.x * -1;
        }
        stroke(0);
        strokeWeight(2);
        fill(127);
        ellipse(position.x, position.y, 48, 48);
      }
		</script>
	</body>
</html>
